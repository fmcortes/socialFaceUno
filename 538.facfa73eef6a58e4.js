"use strict";(self.webpackChunksocial_face=self.webpackChunksocial_face||[]).push([[538],{5538:(B,d,r)=>{r.r(d),r.d(d,{ProfileModule:()=>N});var p=r(6895),c=r(2127),h=r(9841),t=r(4650),f=r(7178),u=r(6271),g=r(2711),x=r(5229),a=r(433),P=r(5003);function _(e,s){if(1&e&&t._UZ(0,"app-profile-picture",7),2&e){const n=t.oxw();t.Q6J("userProfile",n.profileUser)}}let C=(()=>{class e{constructor(n,i,o){this.authFacade=n,this.formBuilder=i,this.postFacade=o,this.profileUser=null,this.form=this.formBuilder.nonNullable.group({title:["",a.kI.required],body:["",a.kI.required]}),this.authFacade.currentUser$.subscribe(l=>{l&&(this.profileUser={id:l.id,username:`${l.firstname} ${l.lastname}`,image:l.image||""})})}onSubmit(){const n={...this.form.getRawValue(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),description:this.form.getRawValue().title,author:{...this.profileUser},favorited:!1,image:"",tagList:[],slug:this.form.getRawValue().title,favoritesCount:0,userId:this.profileUser?.id};console.warn("request",n),this.postFacade.createPost(n)}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(u.j),t.Y36(a.qu),t.Y36(f.T))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-post-writer"]],decls:8,vars:2,consts:[[1,"write-post-container"],[3,"userProfile",4,"ngIf"],[1,"post-input-container"],[3,"formGroup","ngSubmit"],["type","text","placeholder","Title","id","title","formControlName","title","aria-label","title"],["name","body","id","body","formControlName","body","rows","3","placeholder","What's on your mind, Jhon","aria-label","body"],["type","submit",1,"button","button-small"],[3,"userProfile"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,_,1,1,"app-profile-picture",1),t.TgZ(2,"div",2)(3,"form",3),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t._UZ(4,"input",4)(5,"textarea",5),t.TgZ(6,"button",6),t._uU(7,"Post"),t.qZA()()()()),2&i&&(t.xp6(1),t.Q6J("ngIf",o.profileUser),t.xp6(2),t.Q6J("formGroup",o.form))},dependencies:[p.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,P.q],styles:[".write-post-container[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:6px;padding:20px;color:#626262}.post-input-container[_ngcontent-%COMP%]{padding-left:55px;padding-top:20px;display:flex;flex-direction:column;gap:1rem}@media screen and (max-width: 768px){.post-input-container[_ngcontent-%COMP%]{padding-left:0}}.post-input-container[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{width:100%;border:0;outline:0;border-bottom:1px solid #ccc;background:transparent;resize:none}"]})}return e})();var O=r(1060);function b(e,s){if(1&e&&(t.TgZ(0,"div"),t._UZ(1,"img",4),t.qZA()),2&e){const n=s.$implicit;t.xp6(1),t.Q6J("src",n,t.LSH)}}let y=(()=>{class e{constructor(){this.pictures=[]}ngOnInit(){}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-profile-photo-box"]],inputs:{pictures:"pictures"},decls:7,vars:1,consts:[[1,"photo-box-title"],["href","",1,"blue-link"],[1,"photo-box"],[4,"ngFor","ngForOf"],["alt","user pictture",3,"src"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2,"Photos"),t.qZA(),t.TgZ(3,"a",1),t._uU(4,"All Photos"),t.qZA()(),t.TgZ(5,"div",2),t.YNc(6,b,2,1,"div",3),t.qZA()),2&i&&(t.xp6(6),t.Q6J("ngForOf",o.pictures))},dependencies:[p.sg],styles:[".photo-box[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,auto);grid-gap:10px;margin-top:15px}.photo-box[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;cursor:pointer}.photo-box-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}"]})}return e})();const Z=function(e){return["/home/profile",e]},M=function(e){return{userId:e}};function T(e,s){if(1&e&&(t.TgZ(0,"li")(1,"div",4),t._UZ(2,"img",5),t.TgZ(3,"a",6),t._uU(4),t.qZA()()()),2&e){const n=s.$implicit;t.xp6(2),t.Q6J("src",n.image,t.LSH)("alt","photography of "+n.firstname),t.xp6(1),t.Q6J("routerLink",t.VKq(6,Z,n.firstname))("queryParams",t.VKq(8,M,n.id)),t.xp6(1),t.AsE("",n.firstname," ",n.lastname," ")}}const v=function(){return["/home/friends"]};let w=(()=>{class e{constructor(){this.friends=[]}ngOnInit(){}static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-profile-friend-list"]],inputs:{friends:"friends"},decls:7,vars:4,consts:[[1,"friend-list-title-box"],[1,"blue-link",3,"routerLink"],[1,"friend-list-box"],[4,"ngFor","ngForOf"],[1,"friend-list-image-container"],[3,"src","alt"],[1,"blue-link",3,"routerLink","queryParams"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2),t.qZA(),t.TgZ(3,"a",1),t._uU(4,"All Friends"),t.qZA()(),t.TgZ(5,"ul",2),t.YNc(6,T,5,10,"li",3),t.qZA()),2&i&&(t.xp6(2),t.hij("Friends ",o.friends.length,""),t.xp6(1),t.Q6J("routerLink",t.DdM(3,v)),t.xp6(3),t.Q6J("ngForOf",o.friends))},dependencies:[p.sg,c.rH],styles:[".friend-list-title-box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}@media screen and (max-width: 768px){.friend-list-title-box[_ngcontent-%COMP%]{flex-direction:column}}.friend-list-box[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,auto);grid-gap:15px;margin-top:15px;margin-bottom:15px;list-style:none}@media screen and (max-width: 768px){.friend-list-box[_ngcontent-%COMP%]{grid-gap:10px}}.friend-list-image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;width:100px;height:100px}.friend-list-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;cursor:pointer}"]})}return e})();const m=function(){return[]};function F(e,s){if(1&e&&(t.ynx(0),t._UZ(1,"app-profile-friend-list",13),t.BQk()),2&e){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("friends",(null==n.userProfile?null:n.userProfile.friends)||t.DdM(1,m))}}function I(e,s){1&e&&t._UZ(0,"app-post-writer")}function U(e,s){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-post-list",14),t.NdJ("currentPageEvent",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.onCurrentPage())}),t.qZA(),t.BQk()}if(2&e){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("postList",n.posts)("postTitle",null!==n.userProfile&&n.userProfile?n.userProfile.firstname+" "+n.userProfile.lastname:"")}}function A(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"div",3),t._UZ(2,"app-profile-detail",4),t.TgZ(3,"div",5)(4,"div",6)(5,"div",7)(6,"h3"),t._uU(7,"Intro"),t.qZA(),t.TgZ(8,"p",8),t._uU(9," Believe in yoursel and you can do unbeliable things. "),t._UZ(10,"img",9),t.qZA(),t._UZ(11,"hr"),t.qZA(),t.TgZ(12,"aside")(13,"div",7),t._UZ(14,"app-profile-photo-box",10),t.qZA(),t.TgZ(15,"div",7),t.YNc(16,F,2,2,"ng-container",11),t.qZA()()(),t.TgZ(17,"main",12),t.YNc(18,I,1,0,"app-post-writer",0),t.YNc(19,U,2,2,"ng-container",11),t.qZA()()(),t.BQk()),2&e){const n=s.ngIf;t.oxw();const i=t.MAs(3),o=t.MAs(5);t.xp6(2),t.Q6J("userProfile",n.userProfile||null),t.xp6(12),t.Q6J("pictures",(null==n.userProfile?null:n.userProfile.photos)||t.DdM(7,m)),t.xp6(2),t.Q6J("ngIf",null==n.userProfile?null:n.userProfile.friends)("ngIfElse",i),t.xp6(2),t.Q6J("ngIf",(null==n.currentUser?null:n.currentUser.id)===(null==n.userProfile?null:n.userProfile.id)),t.xp6(1),t.Q6J("ngIf",n.posts&&n.posts.length)("ngIfElse",o)}}function J(e,s){1&e&&(t.TgZ(0,"h3"),t._uU(1,"Friends"),t.qZA(),t.TgZ(2,"p"),t._uU(3,"No Friends to display"),t.qZA())}function Q(e,s){1&e&&(t.TgZ(0,"div",7)(1,"p"),t._uU(2,"There is no posts to display"),t.qZA()())}const Y=[{path:"",component:(()=>{class e{constructor(n,i,o,l){this.postFacade=n,this.authFacade=i,this.route=o,this.profileFacade=l,this.currentPage=0,this.userId=null,this.data$=(0,h.a)({posts:this.postFacade.posts$,currentUser:this.authFacade.currentUser$,userProfile:this.profileFacade.userProfile$})}ngOnInit(){this.route.queryParams.subscribe(n=>{this.userId=n.userId,this.currentPage=0,this.userId&&(this.fetchUserProfile(this.userId),this.getPostData(this.userId,this.currentPage))})}fetchUserProfile(n){this.profileFacade.fetchUserProfile(n)}onCurrentPage(){this.userId&&(this.currentPage++,this.getPostData(this.userId,this.currentPage))}getPostData(n,i){this.postFacade.fetchPostsByUserId(i,n)}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(f.T),t.Y36(u.j),t.Y36(c.gz),t.Y36(g.Y))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-profile"]],decls:6,vars:3,consts:[[4,"ngIf"],["emptyFriends",""],["emptyPosts",""],[1,"profile-container"],[3,"userProfile"],[1,"profile-info"],[1,"info-col"],[1,"profile-intro"],[1,"intro-text"],["src","assets/images/feeling.png","alt",""],[3,"pictures"],[4,"ngIf","ngIfElse"],["id","main",1,"post-col"],[3,"friends"],[3,"postList","postTitle","currentPageEvent"]],template:function(i,o){1&i&&(t.YNc(0,A,20,8,"ng-container",0),t.ALo(1,"async"),t.YNc(2,J,4,0,"ng-template",null,1,t.W1O),t.YNc(4,Q,3,0,"ng-template",null,2,t.W1O)),2&i&&t.Q6J("ngIf",t.lcZ(1,1,o.data$))},dependencies:[p.O5,x.c,C,O.P,y,w,p.Ov],styles:[".profile-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px 15%;color:#626262}@media screen and (max-width: 768px){.profile-container[_ngcontent-%COMP%]{padding:20px 5%}}.pd-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#1876f2;border:0;outline:0;padding:6px 10px;display:inline-flex;align-items:center;color:#fff;border-radius:3px;margin-left:10px;cursor:pointer}@media screen and (max-width: 768px){.pd-right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:0;margin-right:10px}}.profile-info[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-top:20px}@media screen and (max-width: 768px){.profile-info[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center;flex-direction:column}}.info-col[_ngcontent-%COMP%]{flex-basis:33%}@media screen and (max-width: 768px){.info-col[_ngcontent-%COMP%]{flex-basis:100%}}.post-col[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;flex-basis:65%}@media screen and (max-width: 768px){.post-col[_ngcontent-%COMP%]{flex-basis:100%;width:100%}}.profile-intro[_ngcontent-%COMP%]{background:#fff;padding:20px;margin-bottom:20px;border-radius:4px}@media screen and (max-width: 768px){.profile-intro[_ngcontent-%COMP%]{padding:.5rem}}.profile-intro[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600}.profile-intro[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:0;height:1px;background:#cccccc;margin:24px 0}.profile-intro[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.intro-text[_ngcontent-%COMP%]{text-align:center;margin:10px 0;font-size:15px}.intro-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15px;margin-bottom:-3px}"]})}return e})()}];let q=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(Y),c.Bz]})}return e})();var L=r(4466);let N=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({providers:[f.T,g.Y],imports:[p.ez,q,L.m]})}return e})()}}]);