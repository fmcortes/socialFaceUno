"use strict";(self.webpackChunksocial_face=self.webpackChunksocial_face||[]).push([[592],{434:(h,_,s)=>{s.d(_,{c:()=>a});var t=s(4650),c=s(9841),f=s(7178),r=s(6895),u=s(3401),m=s(5003);function P(o,d){if(1&o&&(t.TgZ(0,"a",14),t._uU(1),t.qZA()),2&o){const e=d.$implicit;t.xp6(1),t.hij("#",e,"l")}}let p=(()=>{class o{static#t=this.\u0275fac=function(l){return new(l||o)};static#s=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-post"]],inputs:{post:"post"},decls:26,vars:9,consts:[[1,"post-container"],[1,"post-row"],[3,"userProfile"],["href",""],[1,"fas","fa-ellipsis-v"],[1,"post-title"],[1,"post-text"],[1,"post-tag-container"],["class","post-tag","href","#",4,"ngFor","ngForOf"],["alt","",1,"post-img",3,"src"],[1,"activity-icons"],["src","assets/images/like-blue.png","alt",""],["src","assets/images/comments.png","alt",""],["src","assets/images/share.png","alt",""],["href","#",1,"post-tag"]],template:function(l,n){1&l&&(t.TgZ(0,"div",0)(1,"div",1)(2,"app-profile-picture",2)(3,"span"),t._uU(4),t.ALo(5,"date"),t.qZA()(),t.TgZ(6,"a",3),t._UZ(7,"i",4),t.qZA()(),t.TgZ(8,"h2",5),t._uU(9),t.qZA(),t.TgZ(10,"p",6),t._uU(11),t.qZA(),t.TgZ(12,"div",7),t.YNc(13,P,2,1,"a",8),t.qZA(),t._UZ(14,"img",9),t.TgZ(15,"div",1)(16,"div",10)(17,"div"),t._UZ(18,"img",11),t._uU(19),t.qZA(),t.TgZ(20,"div"),t._UZ(21,"img",12),t._uU(22,"45"),t.qZA(),t.TgZ(23,"div"),t._UZ(24,"img",13),t._uU(25,"20"),t.qZA()()()()),2&l&&(t.xp6(2),t.Q6J("userProfile",null==n.post?null:n.post.author),t.xp6(2),t.Oqu(t.lcZ(5,7,null==n.post?null:n.post.createdAt)),t.xp6(5),t.Oqu(null==n.post?null:n.post.title),t.xp6(2),t.hij(" ",null==n.post?null:n.post.body," "),t.xp6(2),t.Q6J("ngForOf",null==n.post?null:n.post.tagList),t.xp6(1),t.Q6J("src",null==n.post?null:n.post.image,t.LSH),t.xp6(5),t.hij("",null==n.post?null:n.post.favoritesCount," "))},dependencies:[r.sg,m.q,r.uU],styles:[".post-container[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:6px;padding:20px;color:#626262;margin:20px 0}.post-title[_ngcontent-%COMP%]{color:#1876f2}.post-text[_ngcontent-%COMP%]{color:#000;margin:15px 0;font-size:1rem}.post-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#626262;font-weight:500}.post-tag-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.post-tag[_ngcontent-%COMP%]{color:#1876f2;text-decoration:none}.post-img[_ngcontent-%COMP%]{width:100%;border-radius:4px;margin-bottom:5px}.post-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}"]})}return o})();function O(o,d){if(1&o&&(t.TgZ(0,"li",4),t._UZ(1,"app-post",5),t.qZA()),2&o){const e=d.$implicit;t.xp6(1),t.Q6J("post",e)}}function g(o,d){if(1&o){const e=t.EpF();t.TgZ(0,"ul",2),t.NdJ("scrolled",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.onScrollDown())}),t.YNc(1,O,2,1,"li",3),t.qZA()}if(2&o){const e=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",e.posts)}}function i(o,d){if(1&o&&(t.ynx(0),t.YNc(1,g,2,1,"ul",1),t.BQk()),2&o){const e=d.ngIf;t.xp6(1),t.Q6J("ngIf",e.posts)}}let a=(()=>{class o{constructor(e){this.postFacade=e,this.currentPageEvent=new t.vpe,this.postList=[],this.currentPage=1,this.data$=(0,c.a)({posts:this.postFacade.posts$})}onScrollDown(){this.currentPage++,this.currentPageEvent.emit(this.currentPage)}static#t=this.\u0275fac=function(l){return new(l||o)(t.Y36(f.T))};static#s=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-post-list"]],inputs:{postList:"postList"},outputs:{currentPageEvent:"currentPageEvent"},decls:2,vars:3,consts:[[4,"ngIf"],["class","post-list","infinite-scroll","",3,"scrolled",4,"ngIf"],["infinite-scroll","",1,"post-list",3,"scrolled"],["class","post-list-item",4,"ngFor","ngForOf"],[1,"post-list-item"],[3,"post"]],template:function(l,n){1&l&&(t.YNc(0,i,2,1,"ng-container",0),t.ALo(1,"async")),2&l&&t.Q6J("ngIf",t.lcZ(1,1,n.data$))},dependencies:[r.sg,r.O5,u.Ry,p,r.Ov],styles:[".post-list[_ngcontent-%COMP%]{list-style:none}"]})}return o})()},2954:(h,_,s)=>{s.d(_,{r:()=>c});var t=s(2997);const c=(0,t.R7)({source:"posts",events:{"Get posts":(0,t.Ky)(),"Get posts success":(0,t.Ky)(),"Get posts failure":(0,t.Ky)()}})},7178:(h,_,s)=>{s.d(_,{T:()=>P});var t=s(2954),c=s(9300),f=s(1400),r=s(8469),u=s(4650),m=s(2997);let P=(()=>{class p{constructor(g){this.store=g,this.currentUser=this.store.select(r.HF)}get posts$(){return this.store.select(f.el)}fetchPosts(g,i){this.currentUser.pipe((0,c.h)(a=>null!=a)).subscribe(a=>{a&&this.store.dispatch(t.r.getPosts({request:{page:g,global:i,author:`${a.firstname} ${a.lastname}`}}))})}static#t=this.\u0275fac=function(i){return new(i||p)(u.LFG(m.yh))};static#s=this.\u0275prov=u.Yz7({token:p,factory:p.\u0275fac})}return p})()},1400:(h,_,s)=>{s.d(_,{C3:()=>u,el:()=>O});var t=s(2997),c=s(2954),f=s(6943);const r={isLoading:!1,error:null,data:[]},u=(0,t.Tz)({name:"post",reducer:(0,t.Lq)(r,(0,t.on)(c.r.getPosts,i=>({...i,isLoading:!0})),(0,t.on)(c.r.getPostsSuccess,(i,a)=>({...i,isLoading:!1,data:[...i.data,...a.posts]})),(0,t.on)(c.r.getPostsFailure,(i,a)=>({...i,isLoading:!1,data:[],error:a.errors})),(0,t.on)(f.tr,()=>r))}),{selectData:O}=u}}]);