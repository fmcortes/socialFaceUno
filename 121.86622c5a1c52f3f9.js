"use strict";(self.webpackChunksocial_face=self.webpackChunksocial_face||[]).push([[121],{4121:(q,T,o)=>{o.r(T),o.d(T,{HomeModule:()=>D});var M={};o.r(M),o.d(M,{createPostEffect:()=>R,getPostByTagdEffect:()=>k,getPostByUserIdEffect:()=>Y,getPostEffect:()=>W});var O={};o.r(O),o.d(O,{getPopularTagsEffect:()=>X});var C=o(6895),v=o(2127),B=o(9841),t=o(4650),F=o(7178),w=o(6271),g=o(2997);const u=(0,g.R7)({source:"tags",events:{"Get  tags":(0,g.uZ)(),"Get  tags success":(0,g.Ky)(),"Get  tags failure":(0,g.Ky)()}}),U=(0,g.Tz)({name:"tags",reducer:(0,g.Lq)({isLoading:!1,error:null,data:null},(0,g.on)(u.getTags,e=>({...e,isLoading:!0})),(0,g.on)(u.getTagsSuccess,(e,a)=>({...e,isLoading:!1,data:a.tags})),(0,g.on)(u.getTagsFailure,(e,a)=>({...e,isLoading:!1,error:a.error})))}),{selectData:$}=U;let Z=(()=>{class e{constructor(n){this.store=n}get tags$(){return this.store.select($)}fetchTags(){this.store.dispatch(u.getTags())}static#t=this.\u0275fac=function(s){return new(s||e)(t.LFG(g.yh))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac})}return e})();var z=o(5003),I=o(5229);const A=["*"];let G=(()=>{class e{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-panel"]],ngContentSelectors:A,decls:2,vars:0,consts:[[1,"panel-container"]],template:function(s,r){1&s&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA())},styles:[".panel-container[_ngcontent-%COMP%]{background:#fff;align-self:flex-start;padding:20px;border-radius:4px;color:#626262}"]})}return e})();const H=function(e){return["/home/posts",e]};function S(e,a){if(1&e&&(t.TgZ(0,"a",13),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.Q6J("routerLink",t.VKq(2,H,n.tag)),t.xp6(1),t.hij("#",n.tag,"")}}function K(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"app-panel")(3,"div",3)(4,"h4"),t._uU(5,"Shorcuts"),t.qZA()(),t.TgZ(6,"div",4),t._UZ(7,"app-profile-picture",5),t.TgZ(8,"a",6),t._UZ(9,"img",7),t._uU(10,"Friends"),t.qZA(),t.TgZ(11,"a",6),t._UZ(12,"img",8),t._uU(13,"Groups"),t.qZA()()(),t.TgZ(14,"app-panel")(15,"div",3)(16,"h4"),t._uU(17,"Tags"),t.qZA()(),t.TgZ(18,"div",9),t.YNc(19,S,2,4,"a",10),t.qZA()()(),t.TgZ(20,"div",11)(21,"app-post-list",12),t.NdJ("currentPageEvent",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.getPostData())}),t.qZA()()()}if(2&e){const n=a.ngIf;t.xp6(7),t.Q6J("userProfile",n.currentUser)("showProfileLink",!0),t.xp6(12),t.Q6J("ngForOf",n.tags),t.xp6(2),t.Q6J("postList",n.posts)}}const j=[{path:"",component:(()=>{class e{constructor(n,s,r){this.postFacade=n,this.authFacade=s,this.tagsFacade=r,this.currentPage=0,this.data$=(0,B.a)({posts:this.postFacade.posts$,currentUser:this.authFacade.currentUser$,tags:this.tagsFacade.tags$})}ngOnInit(){this.tagsFacade.fetchTags(),this.getPostData()}getPostData(){this.currentPage++,this.postFacade.fetchPosts(this.currentPage,!0)}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(F.T),t.Y36(w.j),t.Y36(Z))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-home"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"left-sidebar"],[1,"side-bar-title"],[1,"imp-links"],[3,"userProfile","showProfileLink"],["href","#",1,"blue-link"],["src","assets/images/friends.png","alt",""],["src","assets/images/group.png","alt",""],[1,"home-tag-container"],["class","blue-link",3,"routerLink",4,"ngFor","ngForOf"],[1,"main-content"],[3,"postList","currentPageEvent"],[1,"blue-link",3,"routerLink"]],template:function(s,r){1&s&&(t.YNc(0,K,22,4,"div",0),t.ALo(1,"async")),2&s&&t.Q6J("ngIf",t.lcZ(1,1,r.data$))},dependencies:[C.sg,C.O5,v.rH,z.q,I.c,G,C.Ov],styles:[".home-tag-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.home-tag-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1rem}.container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:13px 5%}@media screen and (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}.left-sidebar[_ngcontent-%COMP%]{flex-basis:25%;position:sticky;display:flex;flex-direction:column;gap:.5rem;top:70px}@media screen and (max-width: 768px){.left-sidebar[_ngcontent-%COMP%]{flex-basis:100%}}.main-content[_ngcontent-%COMP%]{flex-basis:72%}@media screen and (max-width: 768px){.main-content[_ngcontent-%COMP%]{flex-basis:100%}}.shortcut-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:flex;align-items:center;margin-bottom:30px;color:#626262;width:-moz-fit-content;width:fit-content}.imp-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;margin-right:15px}.imp-links[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.shortcut-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;border-radius:4px;margin-right:15px}.shortcut-links[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:25px 0;color:#626262;font-weight:500}.side-bar-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}.right-sidebar[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.side-bar-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#1876f2;font-size:12px}.event[_ngcontent-%COMP%]{display:flex;font-size:14px;margin-bottom:20px}.left-event[_ngcontent-%COMP%]{border-radius:10px;height:65px;width:65px;margin-right:15px;padding-top:10px;text-align:center;position:relative;overflow:hidden;box-shadow:0 0 10px #0000001a}.left-event[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;background:#1876f2;color:#fff;font-size:10px;padding:4px 0}.event[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.event[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px;text-decoration:none;color:#1876f2}.sidebar-ads[_ngcontent-%COMP%]{width:100%;margin-bottom:20px;border-radius:4px}.online-list[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.online-list[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;border-radius:50%}.online-list[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]{width:40px;border-radius:50%;margin-right:15px}.online-list[_ngcontent-%COMP%]   .online[_ngcontent-%COMP%]:after{top:unset;bottom:5px}"]})}return e})()}];let N=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[v.Bz.forChild(j),v.Bz]})}return e})();var J=o(4466),i=o(2655),f=o(4004),y=o(7601),b=o(529);let m=(()=>{class e{constructor(n){this.httpClient=n}getRandomNumber(n,s){return Math.floor(Math.random()*(s-n))+n}getPosts(n=1,s=!0,r=""){return this.httpClient.get(`https://fakefaceapi.onrender.com/posts?_page=${n}${s?`&author.username_ne=${r}`:`&author.username=${r}`}`).pipe((0,f.U)(l=>l.map(d=>{const V=this.getRandomNumber(10,0);return d.image=y.uW[V],d})))}getPostByUserId(n,s){return this.httpClient.get(`https://fakefaceapi.onrender.com/posts?_page=${n}&author.id=${s}`).pipe((0,f.U)(c=>c.map(l=>{const d=this.getRandomNumber(10,0);return l.image=y.uW[d],l})))}getPostByTag(n,s){return this.httpClient.get(`https://fakefaceapi.onrender.com/posts?_page=${n}&tagList_like=${s}`).pipe((0,f.U)(c=>c.map(l=>{const d=this.getRandomNumber(10,0);return l.image=y.uW[d],l})))}createPost(n){return this.httpClient.post("https://fakefaceapi.onrender.com/posts",n)}static#t=this.\u0275fac=function(s){return new(s||e)(t.LFG(b.eN))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac})}return e})();var h=o(3900),P=o(262),x=o(9646),p=o(2954);const W=(0,i.GW)((e=(0,t.f3M)(i.eX),a=(0,t.f3M)(m))=>e.pipe((0,i.l4)(p.r.getPosts),(0,h.w)(({request:n})=>{const{author:s,global:r,page:c}=n;return a.getPosts(c,r,s).pipe((0,f.U)(l=>p.r.getPostsSuccess({posts:l})),(0,P.K)(l=>(0,x.of)(p.r.getPostsFailure({errors:l.error}))))})),{functional:!0}),Y=(0,i.GW)((e=(0,t.f3M)(i.eX),a=(0,t.f3M)(m))=>e.pipe((0,i.l4)(p.r.getPostsByUserId),(0,h.w)(({request:n})=>{const{userId:s,page:r}=n;return a.getPostByUserId(r,s).pipe((0,f.U)(c=>p.r.getPostsByUserIdSuccess({posts:c})),(0,P.K)(c=>(0,x.of)(p.r.getPostsByUserIdFailure({errors:c.error}))))})),{functional:!0}),k=(0,i.GW)((e=(0,t.f3M)(i.eX),a=(0,t.f3M)(m))=>e.pipe((0,i.l4)(p.r.getPostsByTag),(0,h.w)(({request:n})=>{const{tag:s,page:r}=n;return a.getPostByTag(r,s).pipe((0,f.U)(c=>p.r.getPostsByTagSuccess({posts:c})),(0,P.K)(c=>(0,x.of)(p.r.getPostsByTagFailure({errors:c.error}))))})),{functional:!0}),R=(0,i.GW)((e=(0,t.f3M)(i.eX),a=(0,t.f3M)(m))=>e.pipe((0,i.l4)(p.r.createPosts),(0,h.w)(({request:n})=>a.createPost(n).pipe((0,f.U)(s=>p.r.createPostsSuccess({post:s})),(0,P.K)(s=>(0,x.of)(p.r.createPostsFailure({errors:s.error})))))),{functional:!0});let L=(()=>{class e{constructor(n){this.httpClient=n}getTags(){return this.httpClient.get("https://fakefaceapi.onrender.com/tagList")}static#t=this.\u0275fac=function(s){return new(s||e)(t.LFG(b.eN))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac})}return e})();const X=(0,i.GW)((e=(0,t.f3M)(i.eX),a=(0,t.f3M)(L))=>e.pipe((0,i.l4)(u.getTags),(0,h.w)(()=>a.getTags().pipe((0,f.U)(n=>u.getTagsSuccess({tags:n})),(0,P.K)(n=>(0,x.of)(u.getTagsFailure(n.error)))))),{functional:!0});var Q=o(1400);let D=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({providers:[m,L,F.T,Z],imports:[C.ez,N,J.m,g.Aw.forFeature(Q.C3),g.Aw.forFeature(U),i.sQ.forFeature([M,O])]})}return e})()}}]);