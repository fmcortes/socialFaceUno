"use strict";(self.webpackChunksocial_face=self.webpackChunksocial_face||[]).push([[581],{3581:(M,c,i)=>{i.r(c),i.d(c,{FriendsModule:()=>y});var a=i(6895),d=i(2127),f=i(9841),t=i(4650),g=i(6271),l=i(7178),p=i(2711),m=i(5229),u=i(9246),h=i(1060);function x(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"li",6),t.NdJ("click",function(){const _=t.CHM(n).$implicit,Z=t.oxw(2);return t.KtG(Z.onFriendSelected(_))}),t.TgZ(1,"div",7),t._UZ(2,"img",8),t.TgZ(3,"p",9),t._uU(4),t.qZA()()()}if(2&e){const n=r.$implicit;t.xp6(2),t.Q6J("src",n.image,t.LSH)("alt","photography of "+n.firstname),t.xp6(2),t.AsE(" ",n.firstname," ",n.lastname," ")}}function F(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"div",10),t._UZ(1,"app-profile-detail",11),t.TgZ(2,"app-post-list",12),t.NdJ("currentPageEvent",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.onCurrentPage())}),t.qZA()()}if(2&e){const n=r.ngIf,s=t.oxw().ngIf;t.xp6(1),t.Q6J("userProfile",n),t.xp6(1),t.Q6J("postList",s.posts)("postTitle","Global")}}function P(e,r){if(1&e&&(t.ynx(0),t.TgZ(1,"div",1)(2,"div",2)(3,"app-panel")(4,"h2"),t._uU(5,"All Friends"),t.qZA(),t.TgZ(6,"ul",3),t.YNc(7,x,5,4,"li",4),t.qZA()()(),t.TgZ(8,"main"),t.YNc(9,F,3,3,"div",5),t.qZA()(),t.BQk()),2&e){const n=r.ngIf;t.xp6(7),t.Q6J("ngForOf",null==n.currentUser?null:n.currentUser.friends),t.xp6(2),t.Q6J("ngIf",n.userProfile)}}const C=[{path:"",component:(()=>{class e{constructor(n,s,o){this.authFacade=n,this.postFacade=s,this.profileFacade=o,this.friendPosts=[],this.currentPage=0,this.selectedFriendId=null,this.data$=(0,f.a)({currentUser:this.authFacade.currentUser$,userProfile:this.profileFacade.userProfile$,posts:this.postFacade.posts$})}ngOnInit(){}onFriendSelected(n){console.warn("friend",n),n.id&&(this.selectedFriendId=n.id,this.currentPage=0,this.profileFacade.fetchUserProfile(this.selectedFriendId),this.getPostData(n.id,this.currentPage))}onCurrentPage(){this.selectedFriendId&&(this.currentPage++,this.getPostData(this.selectedFriendId,this.currentPage))}getPostData(n,s){this.postFacade.fetchPostsByUserId(s,n)}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(g.j),t.Y36(l.T),t.Y36(p.Y))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-friends"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"friends-container"],[1,"friends-list"],[1,"friends-list-box"],[3,"click",4,"ngFor","ngForOf"],["class","friends-posts",4,"ngIf"],[3,"click"],[1,"friends-list-image-container"],[3,"src","alt"],["href","javascript: void(0)"],[1,"friends-posts"],[3,"userProfile"],[3,"postList","postTitle","currentPageEvent"]],template:function(s,o){1&s&&(t.YNc(0,P,10,2,"ng-container",0),t.ALo(1,"async")),2&s&&t.Q6J("ngIf",t.lcZ(1,1,o.data$))},dependencies:[a.sg,a.O5,m.c,u.y,h.P,a.Ov],styles:[".friends-container[_ngcontent-%COMP%]{display:flex;padding:20px 15%;color:#626262;gap:1rem}@media screen and (max-width: 768px){.friends-container[_ngcontent-%COMP%]{padding:20px 5%;justify-content:center;flex-direction:column}}.friends-list[_ngcontent-%COMP%]{flex-basis:33%}@media screen and (max-width: 768px){.friends-list[_ngcontent-%COMP%]{flex-basis:100%}}.friends-list-box[_ngcontent-%COMP%]{list-style:none}.friends-list-image-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;height:100px;align-items:center}.friends-list-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;cursor:pointer;border-radius:50%}.friends-posts[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;flex-basis:65%}@media screen and (max-width: 768px){.friends-posts[_ngcontent-%COMP%]{flex-basis:100%}}"]})}return e})()}];let v=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[d.Bz.forChild(C),d.Bz]})}return e})();var T=i(4466);let y=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({providers:[l.T,p.Y],imports:[a.ez,v,T.m]})}return e})()}}]);