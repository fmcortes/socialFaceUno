"use strict";(self.webpackChunksocial_face=self.webpackChunksocial_face||[]).push([[592],{3772:(h,u,o)=>{o.d(u,{q:()=>i});var t=o(4650);let i=(()=>{class c{constructor(){this.backendErrors="",this.clearErrors=new t.vpe}onClose(){this.clearErrors.emit()}static#t=this.\u0275fac=function(g){return new(g||c)};static#o=this.\u0275cmp=t.Xpm({type:c,selectors:[["app-error"]],inputs:{backendErrors:"backendErrors"},outputs:{clearErrors:"clearErrors"},decls:8,vars:1,consts:[[1,"error-container"],[1,"error-header-container"],[1,"error-header"],[1,"error-button",3,"click"],[1,"error-message"]],template:function(g,f){1&g&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Error"),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return f.onClose()}),t._uU(5,"X"),t.qZA()(),t.TgZ(6,"p",4),t._uU(7),t.qZA()()),2&g&&(t.xp6(7),t.Oqu(f.backendErrors))},styles:[".error-container[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;padding:1rem;background:#f44336;display:flex;flex-direction:column;align-items:flex-start;gap:1rem}.error-header-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.error-button[_ngcontent-%COMP%]{background-color:#f44336;cursor:pointer;border-radius:.5px;color:#fff;outline:none;border:none}.error-button[_ngcontent-%COMP%]:hover{border:solid 1px #fff}.error-header[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem}.error-message[_ngcontent-%COMP%]{list-style:none;color:#fff;font-size:1rem;padding-bottom:.5rem}"]})}return c})()},434:(h,u,o)=>{o.d(u,{c:()=>a});var t=o(4650),i=o(9841),c=o(7178),l=o(6895),_=o(3401),g=o(5003);function f(s,P){if(1&s&&(t.TgZ(0,"a",14),t._uU(1),t.qZA()),2&s){const e=P.$implicit;t.xp6(1),t.hij("#",e,"l")}}let d=(()=>{class s{static#t=this.\u0275fac=function(p){return new(p||s)};static#o=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-post"]],inputs:{post:"post"},decls:26,vars:9,consts:[[1,"post-container"],[1,"post-row"],[3,"userProfile"],["href",""],[1,"fas","fa-ellipsis-v"],[1,"post-title"],[1,"post-text"],[1,"post-tag-container"],["class","post-tag","href","#",4,"ngFor","ngForOf"],["alt","",1,"post-img",3,"src"],[1,"activity-icons"],["src","assets/images/like-blue.png","alt",""],["src","assets/images/comments.png","alt",""],["src","assets/images/share.png","alt",""],["href","#",1,"post-tag"]],template:function(p,n){1&p&&(t.TgZ(0,"div",0)(1,"div",1)(2,"app-profile-picture",2)(3,"span"),t._uU(4),t.ALo(5,"date"),t.qZA()(),t.TgZ(6,"a",3),t._UZ(7,"i",4),t.qZA()(),t.TgZ(8,"h2",5),t._uU(9),t.qZA(),t.TgZ(10,"p",6),t._uU(11),t.qZA(),t.TgZ(12,"div",7),t.YNc(13,f,2,1,"a",8),t.qZA(),t._UZ(14,"img",9),t.TgZ(15,"div",1)(16,"div",10)(17,"div"),t._UZ(18,"img",11),t._uU(19),t.qZA(),t.TgZ(20,"div"),t._UZ(21,"img",12),t._uU(22,"45"),t.qZA(),t.TgZ(23,"div"),t._UZ(24,"img",13),t._uU(25,"20"),t.qZA()()()()),2&p&&(t.xp6(2),t.Q6J("userProfile",null==n.post?null:n.post.author),t.xp6(2),t.Oqu(t.lcZ(5,7,null==n.post?null:n.post.createdAt)),t.xp6(5),t.Oqu(null==n.post?null:n.post.title),t.xp6(2),t.hij(" ",null==n.post?null:n.post.body," "),t.xp6(2),t.Q6J("ngForOf",null==n.post?null:n.post.tagList),t.xp6(1),t.Q6J("src",null==n.post?null:n.post.image,t.LSH),t.xp6(5),t.hij("",null==n.post?null:n.post.favoritesCount," "))},dependencies:[l.sg,g.q,l.uU],styles:[".post-container[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:6px;padding:20px;color:#626262;margin:20px 0}.post-title[_ngcontent-%COMP%]{color:#1876f2}.post-text[_ngcontent-%COMP%]{color:#000;margin:15px 0;font-size:1rem}.post-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#626262;font-weight:500}.post-tag-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.post-tag[_ngcontent-%COMP%]{color:#1876f2;text-decoration:none}.post-img[_ngcontent-%COMP%]{width:100%;border-radius:4px;margin-bottom:5px}.post-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}"]})}return s})();function E(s,P){if(1&s&&(t.TgZ(0,"li",4),t._UZ(1,"app-post",5),t.qZA()),2&s){const e=P.$implicit;t.xp6(1),t.Q6J("post",e)}}function m(s,P){if(1&s){const e=t.EpF();t.TgZ(0,"ul",2),t.NdJ("scrolled",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.onScrollDown())}),t.YNc(1,E,2,1,"li",3),t.qZA()}if(2&s){const e=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",e.posts)}}function r(s,P){if(1&s&&(t.ynx(0),t.YNc(1,m,2,1,"ul",1),t.BQk()),2&s){const e=P.ngIf;t.xp6(1),t.Q6J("ngIf",e.posts)}}let a=(()=>{class s{constructor(e){this.postFacade=e,this.currentPageEvent=new t.vpe,this.postList=[],this.currentPage=1,this.data$=(0,i.a)({posts:this.postFacade.posts$})}onScrollDown(){this.currentPage++,this.currentPageEvent.emit(this.currentPage)}static#t=this.\u0275fac=function(p){return new(p||s)(t.Y36(c.T))};static#o=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-post-list"]],inputs:{postList:"postList"},outputs:{currentPageEvent:"currentPageEvent"},decls:2,vars:3,consts:[[4,"ngIf"],["class","post-list","infinite-scroll","",3,"scrolled",4,"ngIf"],["infinite-scroll","",1,"post-list",3,"scrolled"],["class","post-list-item",4,"ngFor","ngForOf"],[1,"post-list-item"],[3,"post"]],template:function(p,n){1&p&&(t.YNc(0,r,2,1,"ng-container",0),t.ALo(1,"async")),2&p&&t.Q6J("ngIf",t.lcZ(1,1,n.data$))},dependencies:[l.sg,l.O5,_.Ry,d,l.Ov],styles:[".post-list[_ngcontent-%COMP%]{list-style:none}"]})}return s})()},2954:(h,u,o)=>{o.d(u,{r:()=>i});var t=o(2997);const i=(0,t.R7)({source:"posts",events:{"Get posts":(0,t.Ky)(),"Get posts success":(0,t.Ky)(),"Get posts failure":(0,t.Ky)()}})},7178:(h,u,o)=>{o.d(u,{T:()=>f});var t=o(2954),i=o(9300),c=o(1400),l=o(8469),_=o(4650),g=o(2997);let f=(()=>{class d{constructor(m){this.store=m,this.currentUser=this.store.select(l.HF)}get posts$(){return this.store.select(c.el)}fetchPosts(m,r){this.currentUser.pipe((0,i.h)(a=>null!=a)).subscribe(a=>{a&&this.store.dispatch(t.r.getPosts({request:{page:m,global:r,author:`${a.firstname} ${a.lastname}`}}))})}static#t=this.\u0275fac=function(r){return new(r||d)(_.LFG(g.yh))};static#o=this.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac})}return d})()},1400:(h,u,o)=>{o.d(u,{C3:()=>_,el:()=>E});var t=o(2997),i=o(2954),c=o(6943);const l={isLoading:!1,error:null,data:[]},_=(0,t.Tz)({name:"post",reducer:(0,t.Lq)(l,(0,t.on)(i.r.getPosts,r=>({...r,isLoading:!0})),(0,t.on)(i.r.getPostsSuccess,(r,a)=>({...r,isLoading:!1,data:[...r.data,...a.posts]})),(0,t.on)(i.r.getPostsFailure,(r,a)=>({...r,isLoading:!1,data:[],error:a.errors})),(0,t.on)(c.tr,()=>l))}),{selectData:E}=_}}]);