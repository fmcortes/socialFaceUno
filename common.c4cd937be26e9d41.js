"use strict";(self.webpackChunksocial_face=self.webpackChunksocial_face||[]).push([[592],{2711:(x,u,o)=>{o.d(u,{Y:()=>f});var t=o(2936),r=o(9382),p=o(4650),l=o(2997);let f=(()=>{class i{constructor(a){this.store=a}get userProfile$(){return this.store.select(r.HY)}fetchUserProfile(a){this.store.dispatch(t.U.getUserProfile({id:a}))}static#t=this.\u0275fac=function(m){return new(m||i)(p.LFG(l.yh))};static#e=this.\u0275prov=p.Yz7({token:i,factory:i.\u0275fac})}return i})()},3772:(x,u,o)=>{o.d(u,{q:()=>r});var t=o(4650);let r=(()=>{class p{constructor(){this.backendErrors="",this.clearErrors=new t.vpe}onClose(){this.clearErrors.emit()}static#t=this.\u0275fac=function(i){return new(i||p)};static#e=this.\u0275cmp=t.Xpm({type:p,selectors:[["app-error"]],inputs:{backendErrors:"backendErrors"},outputs:{clearErrors:"clearErrors"},decls:8,vars:1,consts:[[1,"error-container"],[1,"error-header-container"],[1,"error-header"],[1,"error-button",3,"click"],[1,"error-message"]],template:function(i,_){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"Error"),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return _.onClose()}),t._uU(5,"X"),t.qZA()(),t.TgZ(6,"p",4),t._uU(7),t.qZA()()),2&i&&(t.xp6(7),t.Oqu(_.backendErrors))},styles:[".error-container[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;padding:1rem;background:#f44336;display:flex;flex-direction:column;align-items:flex-start;gap:1rem}.error-header-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.error-button[_ngcontent-%COMP%]{background-color:#f44336;cursor:pointer;border-radius:.5px;color:#fff;outline:none;border:none}.error-button[_ngcontent-%COMP%]:hover{border:solid 1px #fff}.error-header[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem}.error-message[_ngcontent-%COMP%]{list-style:none;color:#fff;font-size:1rem;padding-bottom:.5rem}"]})}return p})()},9246:(x,u,o)=>{o.d(u,{y:()=>p});var t=o(4650);const r=["*"];let p=(()=>{class l{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(_){return new(_||l)};static#e=this.\u0275cmp=t.Xpm({type:l,selectors:[["app-panel"]],ngContentSelectors:r,decls:2,vars:0,consts:[[1,"panel-container"]],template:function(_,a){1&_&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA())},styles:[".panel-container[_ngcontent-%COMP%]{background:#fff;align-self:flex-start;padding:20px;border-radius:4px;color:#626262}"]})}return l})()},5229:(x,u,o)=>{o.d(u,{c:()=>O});var t=o(4650),r=o(9841),p=o(7178),l=o(6895),f=o(3401),i=o(3819),_=o(2127),a=o(5003);const m=function(c){return["/home/posts",c]};function d(c,P){if(1&c&&(t.TgZ(0,"li",11)(1,"a",12),t._uU(2),t.qZA()()),2&c){const s=P.$implicit,g=P.index,h=t.oxw(2);t.Q6J("id","post-tag-"+h.position+"tag-"+g),t.xp6(1),t.Q6J("routerLink",t.VKq(3,m,s)),t.xp6(1),t.hij("#",s,"")}}function e(c,P){if(1&c&&(t.ynx(0),t.TgZ(1,"div",1)(2,"div",2),t._UZ(3,"app-profile-picture",3),t.qZA(),t.TgZ(4,"h2",4),t._uU(5),t.qZA(),t.TgZ(6,"span"),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"p",5),t._uU(10),t.qZA(),t.TgZ(11,"ul",6),t.YNc(12,d,3,5,"li",7),t.qZA(),t._UZ(13,"img",8),t.TgZ(14,"div",2)(15,"div",9)(16,"div"),t._UZ(17,"img",10),t._uU(18),t.qZA()()()(),t.BQk()),2&c){const s=t.oxw();t.xp6(1),t.Q6J("id","post-"+s.position),t.uIk("aria-posinset",s.position)("aria-labelledby","post-title-"+s.position),t.xp6(2),t.Q6J("userProfile",s.post.author),t.xp6(1),t.Q6J("id","post-title-"+s.position),t.xp6(1),t.hij(" ",s.post.title," "),t.xp6(2),t.Oqu(t.lcZ(8,12,s.post.createdAt)),t.xp6(2),t.Q6J("id","post-description-"+s.position),t.xp6(1),t.hij(" ",s.post.body," "),t.xp6(2),t.Q6J("ngForOf",null==s.post?null:s.post.tagList),t.xp6(1),t.Q6J("src",s.post.image,t.LSH),t.xp6(5),t.hij("",s.post.favoritesCount," ")}}let n=(()=>{class c{constructor(){this.position=0}static#t=this.\u0275fac=function(g){return new(g||c)};static#e=this.\u0275cmp=t.Xpm({type:c,selectors:[["app-post-item"]],inputs:{post:"post",position:"position"},decls:1,vars:1,consts:[[4,"ngIf"],["tabindex","0","aria-setsize","-1","role","article",1,"post-container",3,"id"],[1,"post-row"],[3,"userProfile"],[1,"post-title",3,"id"],[1,"post-text",3,"id"],[1,"post-tag-container"],[3,"id",4,"ngFor","ngForOf"],["alt","An image of the post",1,"post-img",3,"src"],[1,"activity-icons"],["src","assets/images/like-blue.png","alt","Favorite count"],[3,"id"],[1,"post-tag",3,"routerLink"]],template:function(g,h){1&g&&t.YNc(0,e,19,14,"ng-container",0),2&g&&t.Q6J("ngIf",h.post)},dependencies:[l.sg,l.O5,_.rH,a.q,l.uU],styles:[".post-container[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:6px;padding:20px;color:#626262;display:flex;flex-direction:column;gap:.5rem;margin-bottom:20px}.post-title[_ngcontent-%COMP%]{color:#0f4b99}.post-text[_ngcontent-%COMP%]{color:#000;margin:15px 0;font-size:1rem}.post-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#626262;font-weight:500}.post-tag-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;flex-wrap:wrap;list-style:none}.post-tag[_ngcontent-%COMP%]{color:#0f4b99;text-decoration:none}.post-img[_ngcontent-%COMP%]{width:100%;border-radius:4px;margin-bottom:5px}.post-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}"]})}return c})();function y(c,P){if(1&c&&(t.ynx(0),t.TgZ(1,"article",4),t._UZ(2,"ng-adsense"),t.qZA(),t.BQk()),2&c){const s=t.oxw().index;t.xp6(1),t.Q6J("id","advertisiment-"+s+1),t.uIk("aria-posinset",s+1)}}function E(c,P){if(1&c&&(t.ynx(0),t._UZ(1,"app-post-item",3),t.YNc(2,y,3,2,"ng-container",0),t.BQk()),2&c){const s=P.$implicit,g=P.index;t.xp6(1),t.Q6J("post",s)("position",g+1),t.xp6(1),t.Q6J("ngIf",(g+1)%4==0)}}function C(c,P){if(1&c){const s=t.EpF();t.ynx(0),t.TgZ(1,"div",1),t.NdJ("scrolled",function(){t.CHM(s);const h=t.oxw();return t.KtG(h.onScrollDown())}),t.YNc(2,E,3,3,"ng-container",2),t.qZA(),t.BQk()}if(2&c){const s=t.oxw();t.xp6(1),t.uIk("aria-busy",s.isLoading)("aria-label",s.postTitle+" posts page"),t.xp6(1),t.Q6J("ngForOf",s.postList)}}let O=(()=>{class c{constructor(s){this.postFacade=s,this.postTitle="",this.isLoading=!1,this.data$=(0,r.a)({isLoading:this.postFacade.isLoadingPost$}),this.currentPageEvent=new t.vpe,this.postList=[],this.data$.subscribe(g=>{this.isLoading=g.isLoading})}onScrollDown(){this.currentPageEvent.emit()}static#t=this.\u0275fac=function(g){return new(g||c)(t.Y36(p.T))};static#e=this.\u0275cmp=t.Xpm({type:c,selectors:[["app-post-list"]],inputs:{postTitle:"postTitle",postList:"postList"},outputs:{currentPageEvent:"currentPageEvent"},decls:1,vars:1,consts:[[4,"ngIf"],["role","feed","infinite-scroll","",1,"post-list",3,"scrolled"],[4,"ngFor","ngForOf"],[3,"post","position"],["aria-setsize","-1",3,"id"]],template:function(g,h){1&g&&t.YNc(0,C,3,3,"ng-container",0),2&g&&t.Q6J("ngIf",h.postList)},dependencies:[l.sg,l.O5,f.Ry,i.nq,n],styles:[".post-list[_ngcontent-%COMP%]{width:100%}"]})}return c})()},2954:(x,u,o)=>{o.d(u,{r:()=>r});var t=o(2997);const r=(0,t.R7)({source:"posts",events:{"Get posts":(0,t.Ky)(),"Get posts success":(0,t.Ky)(),"Get posts failure":(0,t.Ky)(),"Get posts by user id":(0,t.Ky)(),"Get posts by user id success":(0,t.Ky)(),"Get posts  by user id failure":(0,t.Ky)(),"Get all posts by user id":(0,t.Ky)(),"Get all posts by user id success":(0,t.Ky)(),"Get all posts  by user id failure":(0,t.Ky)(),"Get posts by tag":(0,t.Ky)(),"Get posts by tag success":(0,t.Ky)(),"Get posts  by tag failure":(0,t.Ky)(),"Create posts":(0,t.Ky)(),"Create posts success":(0,t.Ky)(),"Create posts failure":(0,t.Ky)()}})},7178:(x,u,o)=>{o.d(u,{T:()=>_});var t=o(2954),r=o(9300),p=o(1400),l=o(8469),f=o(4650),i=o(2997);let _=(()=>{class a{constructor(d){this.store=d,this.currentUser=this.store.select(l.HF)}get posts$(){return this.store.select(p.el)}get isLoadingPost$(){return this.store.select(p.xU)}fetchPosts(d,e){this.currentUser.pipe((0,r.h)(n=>null!=n)).subscribe(n=>{n&&this.store.dispatch(t.r.getPosts({request:{page:d,global:e,author:`${n.firstname} ${n.lastname}`}}))})}fetchPostsByUserId(d,e){this.store.dispatch(t.r.getPostsByUserId({request:{userId:e,page:d}}))}fetchAllPostsByUserId(d){this.store.dispatch(t.r.getAllPostsByUserId({request:{userId:d}}))}fetchPostsByTag(d,e){this.store.dispatch(t.r.getPostsByTag({request:{tag:e,page:d}}))}createPost(d){this.store.dispatch(t.r.createPosts({request:d}))}static#t=this.\u0275fac=function(e){return new(e||a)(f.LFG(i.yh))};static#e=this.\u0275prov=f.Yz7({token:a,factory:a.\u0275fac})}return a})()},1400:(x,u,o)=>{o.d(u,{C3:()=>f,el:()=>m,xU:()=>a});var t=o(2997),r=o(2954),p=o(6943);const l={isLoading:!1,error:null,data:[]},f=(0,t.Tz)({name:"post",reducer:(0,t.Lq)(l,(0,t.on)(r.r.getPosts,e=>({...e,isLoading:!0})),(0,t.on)(r.r.getPostsSuccess,(e,n)=>({...e,isLoading:!1,data:[...e.data,...n.posts]})),(0,t.on)(r.r.getPostsFailure,(e,n)=>({...e,isLoading:!1,data:[],error:n.errors})),(0,t.on)(r.r.getPostsByUserId,e=>({...e,isLoading:!0})),(0,t.on)(r.r.getPostsByUserIdSuccess,(e,n)=>({...e,isLoading:!1,data:n.currentPage>0?[...e.data,...n.posts]:[...n.posts]})),(0,t.on)(r.r.getPostsByUserIdFailure,(e,n)=>({...e,isLoading:!1,data:[],error:n.errors})),(0,t.on)(r.r.getAllPostsByUserId,e=>({...e,isLoading:!0})),(0,t.on)(r.r.getAllPostsByUserIdSuccess,(e,n)=>({...e,isLoading:!1,data:[...n.posts]})),(0,t.on)(r.r.getAllPostsByUserIdFailure,(e,n)=>({...e,isLoading:!1,data:[],error:n.errors})),(0,t.on)(r.r.getPostsByTag,e=>({...e,isLoading:!0})),(0,t.on)(r.r.getPostsByTagSuccess,(e,n)=>({...e,isLoading:!1,data:[...e.data,...n.posts]})),(0,t.on)(r.r.getPostsByTagFailure,(e,n)=>({...e,isLoading:!1,data:[],error:n.errors})),(0,t.on)(r.r.createPosts,e=>({...e,isLoading:!0})),(0,t.on)(r.r.createPostsSuccess,(e,n)=>({...e,isLoading:!1,data:[n.post,...e.data]})),(0,t.on)(r.r.createPostsFailure,(e,n)=>({...e,isLoading:!1,data:[],error:n.errors})),(0,t.on)(p.tr,()=>l))}),{selectIsLoading:a,selectData:m}=f},1060:(x,u,o)=>{o.d(u,{P:()=>f});var t=o(4650),r=o(6895);function p(i,_){if(1&i&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&i){const a=t.oxw(2);t.xp6(1),t.hij(" Friends: ",a.userProfile.friends.length," ")}}function l(i,_){if(1&i&&(t.TgZ(0,"div",1),t._UZ(1,"img",2),t.TgZ(2,"div",3),t._UZ(3,"img",4),t.TgZ(4,"div",5)(5,"h1"),t._uU(6),t.qZA(),t.YNc(7,p,2,1,"p",6),t.qZA()()()),2&i){const a=t.oxw();t.xp6(1),t.Q6J("src",a.userProfile.cover,t.LSH)("alt","profile picture of"+a.userProfile.firstname+a.userProfile.lastname),t.xp6(2),t.Q6J("src",a.userProfile.image,t.LSH),t.xp6(3),t.AsE("",a.userProfile.firstname," ",a.userProfile.lastname,""),t.xp6(1),t.Q6J("ngIf",a.userProfile.friends)}}let f=(()=>{class i{constructor(){this.userProfile=null}static#t=this.\u0275fac=function(m){return new(m||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-profile-detail"]],inputs:{userProfile:"userProfile"},decls:1,vars:1,consts:[["class","profile-detail-container",4,"ngIf"],[1,"profile-detail-container"],[1,"profile-detail-cover-img",3,"src","alt"],[1,"profile-detail-info"],["alt","",1,"profile-detail-image",3,"src"],[1,"profile-detail-row"],[4,"ngIf"]],template:function(m,d){1&m&&t.YNc(0,l,8,6,"div",0),2&m&&t.Q6J("ngIf",d.userProfile)},dependencies:[r.O5],styles:[".profile-detail-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:1rem}.profile-detail-cover-img[_ngcontent-%COMP%]{width:100%;height:640px;border-radius:6px;margin-bottom:14px}@media screen and (max-width: 768px){.profile-detail-cover-img[_ngcontent-%COMP%]{height:320px}}.profile-detail-info[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:4px;display:flex;align-items:flex-start}@media screen and (max-width: 768px){.profile-detail-info[_ngcontent-%COMP%]{flex-wrap:wrap}}.profile-detail-image[_ngcontent-%COMP%]{width:100px;margin-right:20px;border-radius:6px}.profile-detail-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-direction:column}"]})}return i})()}}]);